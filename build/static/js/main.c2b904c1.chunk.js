(this.webpackJsonpcelowear=this.webpackJsonpcelowear||[]).push([[0],{304:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_description","type":"string"},{"internalType":"string","name":"_image","type":"string"},{"internalType":"uint256","name":"_price","type":"uint256"},{"internalType":"bool","name":"_isUsed","type":"bool"}],"name":"addCloth","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"buyCloth","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"getCloth","outputs":[{"internalType":"address payable","name":"","type":"address"},{"internalType":"string","name":"","type":"string"},{"internalType":"string","name":"","type":"string"},{"internalType":"string","name":"","type":"string"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getClothLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')},305:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},326:function(e,t){},346:function(e,t){},348:function(e,t){},423:function(e,t){},425:function(e,t){},458:function(e,t){},463:function(e,t){},465:function(e,t){},472:function(e,t){},485:function(e,t){},502:function(e,t){},512:function(e,t){},515:function(e,t){},522:function(e,t){},524:function(e,t){},577:function(e,t){},630:function(e,t){},682:function(e,t,n){"use strict";n.r(t);var a=n(15),r=n.n(a),s=n(301),c=n.n(s),i=n(20),o=n.n(i),l=n(54),u=n(28),p=n(5),d=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)(""),i=Object(u.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(""),b=Object(u.a)(d,2),m=b[0],j=b[1],y=Object(a.useState)(0),f=Object(u.a)(y,2),h=f[0],x=f[1],O=Object(a.useState)(!1),v=Object(u.a)(O,2),g=v[0],w=v[1];return Object(p.jsx)("div",{className:"newsletter",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h1",{children:"Add Cloth"}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:" col-12",children:Object(p.jsxs)("form",{className:"form_newsletter",onSubmit:function(t){t.preventDefault(),console.log(g),e.addCloth(r,m,o,h,g),s(""),l(""),x(""),j("")},children:[Object(p.jsx)("input",{onChange:function(e){return s(e.target.value)},type:"text",placeholder:"Name",className:"newsletter-input form-control",value:r}),Object(p.jsx)("input",{onChange:function(e){return j(e.target.value)},type:"text",placeholder:"Description",className:"newsletter-input form-control",value:m}),Object(p.jsx)("input",{onChange:function(e){return l(e.target.value)},type:"text",placeholder:"Image Link",className:"newsletter-input form-control",value:o}),Object(p.jsx)("input",{onChange:function(e){return x(e.target.value)},type:"text",placeholder:"Price",className:"newsletter-input form-control",value:h}),Object(p.jsxs)("select",{onChange:function(e){return w("true"===(t=e.target.value)||"false"!==t&&void 0);var t},className:"newsletter-input form-control",style:{marginLeft:"15px"},children:[Object(p.jsx)("option",{value:"",disabled:!0,children:"Check Is Used"}),Object(p.jsx)("option",{value:"true",children:"Used"}),Object(p.jsx)("option",{value:"false",children:"New"})]}),Object(p.jsx)("button",{id:"",className:"button_mini zoa-btn",type:"submit",style:{marginLeft:"15px",marginTop:"12px"},children:"Add Products"})]})})})]})})},b=function(e){return Object(p.jsx)("header",{id:"header",className:"header-v1",children:Object(p.jsx)("div",{className:"header-center",children:Object(p.jsx)("div",{className:"container container-content",children:Object(p.jsxs)("div",{className:"row flex align-items-center justify-content-between",children:[Object(p.jsx)("div",{className:" flex justify-content-center",children:Object(p.jsx)("a",{href:"#",children:Object(p.jsx)("img",{src:"img/logo.png",alt:"",className:"img-reponsive"})})}),Object(p.jsx)("div",{className:"col-md-4 col flex justify-content-end",children:Object(p.jsxs)("h3",{children:["$",e.balance,"cUSD"]})})]})})})})},m=function(e){var t=function(t,n){e.buyCloth(t,n)};return Object(p.jsx)("div",{className:"container container-content",children:Object(p.jsx)("div",{className:"product-collection-grid product-grid bd-bottom",children:Object(p.jsx)("div",{className:"row engoc-row-equal",children:e.clothes.map((function(e){return Object(p.jsxs)("div",{className:"col-xs-6 col-sm-4 col-md-2 col-lg-2 product-item",children:[Object(p.jsxs)("div",{className:"product-img",children:[Object(p.jsx)("a",{href:!0,children:Object(p.jsx)("img",{src:e.image,alt:"",className:"img-responsive"})}),Object(p.jsx)("div",{className:"ribbon zoa-hot",children:Object(p.jsx)("span",{children:e.isUsed?"Used":"New"})}),Object(p.jsx)("div",{className:"product-button-group",children:Object(p.jsx)("a",{href:"#",onClick:function(){return t(e.index)},className:"zoa-btn zoa-addcart",children:Object(p.jsx)("span",{className:"zoa-icon-cart"})})})]}),Object(p.jsxs)("div",{className:"product-info text-center",children:[Object(p.jsx)("h3",{className:"product-title",children:Object(p.jsx)("a",{href:!0,children:e.name})}),Object(p.jsx)("div",{className:"short-desc",children:Object(p.jsx)("p",{children:e.description})}),Object(p.jsx)("div",{className:"product-price",children:Object(p.jsxs)("span",{children:["$",e.price/1e18]})}),Object(p.jsx)("button",{onClick:function(){return t(e.index,e.price)},id:"",className:"button_mini zoa-btn",type:"submit",style:{marginLeft:"15px",marginTop:"12px"},children:"Buy Cloth"})]})]})}))})})})},j=n(144),y=n.n(j),f=n(303),h=n(18),x=n.n(h),O=n(304),v=n(305),g="0x46178FeB4e08589978a0e1c440fBB0A0A8EB2A64";var w=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(null),c=Object(u.a)(s,2),i=c[0],j=c[1],h=Object(a.useState)(null),w=Object(u.a)(h,2),T=w[0],N=w[1],C=Object(a.useState)(0),S=Object(u.a)(C,2),k=S[0],M=S[1],B=Object(a.useState)([]),_=Object(u.a)(B,2),A=_[0],U=_[1],F=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.celo){e.next=23;break}return e.prev=1,e.next=4,window.celo.enable();case 4:return t=new y.a(window.celo),n=Object(f.newKitFromWeb3)(t),e.next=8,n.web3.eth.getAccounts();case 8:return a=e.sent,r=a[0],n.defaultAccount=r,e.next=13,j(r);case 13:return e.next=15,N(n);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("There is an error"),console.log({error:e.t0});case 21:e.next=24;break;case 23:console.log("please install the extension");case 24:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.getTotalBalance(i);case 2:t=e.sent,n=t.cUSD.shiftedBy(-18).toFixed(2),a=new T.web3.eth.Contract(O,g),r(a),M(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){F()}),[]),Object(a.useEffect)((function(){if(T&&i)return z();console.log("no kit or address")}),[T,i]),Object(a.useEffect)((function(){n&&E()}),[n]);var E=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,r,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.methods.getClothLength().call();case 2:for(t=e.sent,a=[],r=function(e){var t=new Promise(function(){var t=Object(l.a)(o.a.mark((function t(a,r){var s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.methods.getCloth(e).call();case 2:s=t.sent,a({index:e,owner:s[0],name:s[1],description:s[2],image:s[3],price:s[4],isUsed:s[5]});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());a.push(t)},s=0;s<t;s++)r(s);return e.next=8,Promise.all(a);case 8:c=e.sent,U(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new T.web3.eth.Contract(v,"0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1"),s=new x.a(a).shiftedBy(18).toString(),e.next=5,r.methods.approve(g,s).send({from:i});case 5:return e.next=7,n.methods.buyCloth(t).send({from:i});case 7:z(),E(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log({error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(o.a.mark((function e(t,a,r,s,c){var l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=new x.a(s).shiftedBy(18).toString(),e.next=4,n.methods.addCloth(t,a,r,l,c).send({from:i});case 4:E(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a,r,s){return e.apply(this,arguments)}}();return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(b,{balance:k}),Object(p.jsx)(m,{clothes:A,buyCloth:L}),Object(p.jsx)(d,{addCloth:D})]})};c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(w,{})}),document.getElementById("root"))}},[[682,1,2]]]);
//# sourceMappingURL=main.c2b904c1.chunk.js.map